# avito-intern
## Сервис динамического сегментирования пользователей

Сервис предоставляет функционал 
### Развертка сервиса:
    Скачиваем репозиторий. Открываем папку с репозиторием в терминале. Выполняем "docker-compose up --build".
    Сервис развернется на "localhost:8080".

### Доступные методы:
 - /activeUserSegments/:user_id
 Метод: GET
 Возвращает сегменты, в которые входит пользователь с заданным айди.
 Принимает path параметром айди пользователя

 - /segment/:slug
 Метод: POST DELETE
 Создание, удаление сегмента. 
 Принимает slug в качестве path параметра

 - /addUserToSegment
 Метод: POST
 Добавляет и/или удаляет пользователя в какие-либо сегменты.
 Параметры передаются в body в виде json.
 Принимает два массива и id. Первый массив - в какие сегменты надо добавить пользователя, второй - из каких удалить.
 Пример тела запроса:
 ```{"SlugsAdd":[ "AVITO_VOICE_MESSAGES", "AVITO_PERFORMANCE_VAS"], "SlugsDelete":["AVITO_DISCOUNT_30"], "ID":2}```

 - /downloadOperations/:year/:month
Метод: GET
Скачивание файла с историей добавлений/Удалений пользователей в сегменты в формате csv.
